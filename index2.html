<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPhone 17 Pro - Product Page</title>
    <!-- Load Tailwind CSS CDN for styling and responsiveness -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8fa; /* Light subtle gray */
        }
        /* Adjusted height for phone product image ratio */
        .product-image {
            object-fit: contain; /* Changed to contain to fit the image fully without cropping */
            width: 100%;
            height: 480px; 
            background-color: #ffffff; /* Ensure background is white for contrast */
            padding: 1rem; /* A little padding inside the image box */
        }
        .thumbnail {
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            object-fit: contain;
            background-color: #ffffff; 
        }
        .thumbnail:hover, .thumbnail.active {
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.4); /* Indigo glow */
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Header & Navigation -->
    <header class="max-w-7xl mx-auto flex justify-between items-center py-4 mb-8 border-b border-gray-200">
        <h1 class="text-2xl font-bold text-gray-900">Apple</h1>
        <nav class="hidden md:block space-x-6 text-gray-600">
            <a href="#" class="hover:text-indigo-600 transition">Tech Specs</a>
            <a href="#" class="hover:text-indigo-600 transition">Accessories</a>
            <a href="#" class="hover:text-indigo-600 transition">Trade-In</a>
        </nav>
        <button class="md:hidden p-2 text-gray-600 hover:text-indigo-600 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
        </button>
    </header>

    <!-- Main Product Section -->
    <main class="max-w-7xl mx-auto bg-white p-6 md:p-10 rounded-2xl shadow-xl">
        <div class="lg:grid lg:grid-cols-2 lg:gap-12">

            <!-- Left Column: Image Gallery -->
            <div class="mb-8 lg:mb-0">
                <div class="relative rounded-xl overflow-hidden shadow-lg mb-4 bg-gray-100">
                    <!-- Main Image (Titanium Black is default) -->
                    <img id="main-product-image" 
                         src="./iPhone-17-Pro-1.jpeg"
                         alt="Main view of iPhone 17 Pro in Titanium Black" 
                         onerror="this.src='https://placehold.co/800x600/1F2937/ffffff?text=Image+Load+Error'"
                         class="product-image rounded-xl transition duration-300">
                    <span class="absolute top-4 left-4 bg-red-600 text-white text-sm font-semibold px-3 py-1 rounded-full shadow-md">Limited Time Offer</span>
                </div>

                <!-- Thumbnails -->
                <div class="flex space-x-3 justify-center">
                    <!-- Thumbnail 1: Titanium Black -->
                    <img src="./iPhone-17-Pro-1.jpeg"
                         alt="Thumbnail 1: Titanium Black" 
                         class="thumbnail w-16 h-16 rounded-lg border-2 border-indigo-600 active"
                         onclick="switchImage(this)">
                    <!-- Thumbnail 2: Natural Titanium -->
                    <img src="./iphone-17-pro-finish-select-202509-6-9inch-silver.jpg"
                         alt="Thumbnail 2: Natural Titanium" 
                         class="thumbnail w-16 h-16 rounded-lg border-2 border-transparent"
                         onclick="switchImage(this)">
                    <!-- Thumbnail 3: Deep Blue -->
                    <img src="./OIP.jpg" 
                         alt="Thumbnail 3: Deep Blue" 
                         class="thumbnail w-16 h-16 rounded-lg border-2 border-transparent"
                         onclick="switchImage(this)">
                </div>
            </div>

            <!-- Right Column: Product Details & Form -->
            <div>
                <span class="text-sm font-semibold text-indigo-600 uppercase tracking-wider">Titanium Series</span>
                <h2 class="text-4xl font-extrabold text-gray-900 mt-2 mb-4">iPhone 17 Pro</h2>
                
                <!-- Price -->
                <div class="flex items-baseline space-x-3 mb-6">
                    <span class="text-4xl font-bold text-red-600">₹1,31,000.00</span>
                    <span class="text-xl text-gray-400 line-through">₹1,45,000.00</span>
                </div>

                <!-- Description -->
                <p class="text-gray-700 leading-relaxed mb-6">
                    Introducing the iPhone 17 Pro, built with aerospace-grade titanium. Featuring the **A19 Bionic chip**, our most advanced 
                    Pro camera system, and a stunning ProMotion XDR Display, it's a leap ahead in performance and durability.
                </p>

                <!-- Key Features -->
                <div class="space-y-3 mb-8">
                    <div class="flex items-center text-gray-700">
                        <svg class="w-5 h-5 text-indigo-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <span>ProMotion XDR Display (120Hz)</span>
                    </div>
                    <div class="flex items-center text-gray-700">
                        <svg class="w-5 h-5 text-indigo-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></path></svg>
                        <span>A19 Bionic Chip</span>
                    </div>
                    <div class="flex items-center text-gray-700">
                        <svg class="w-5 h-5 text-indigo-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <span>Pro Camera System w/ Cinematic Mode</span>
                    </div>
                </div>

                <!-- Add to Cart Form -->
                <form id="add-to-cart-form" class="space-y-4">
                    <!-- Color Selector -->
                    <div>
                        <label for="color" class="block text-sm font-medium text-gray-700 mb-2">Finish</label>
                        <select id="color" name="color" class="w-full md:w-1/2 p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition">
                            <option>Titanium Black</option>
                            <option>Natural Titanium</option>
                            <option>White Titanium</option>
                            <option>Deep Blue</option>
                        </select>
                    </div>

                    <!-- Quantity Input -->
                    <div>
                        <label for="quantity" class="block text-sm font-medium text-gray-700 mb-2">Quantity</label>
                        <input type="number" id="quantity" name="quantity" value="1" min="1" max="10" class="w-20 p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition">
                    </div>

                    <!-- Button and Feedback -->
                    <button type="submit" class="w-full py-4 px-6 bg-indigo-600 text-white font-bold text-lg rounded-xl hover:bg-indigo-700 transition duration-300 shadow-lg shadow-indigo-300 mt-6">
                        Buy Now
                    </button>
                    <p id="feedback-message" class="text-green-600 text-center font-semibold mt-3 hidden"></p>
                </form>
            </div>
        </div>
    </main>
    
    <!-- Footer Section -->
    <footer class="max-w-7xl mx-auto text-center py-6 mt-12 text-gray-500 text-sm border-t border-gray-200">
        <p>Apple Inc. &copy; 2025 | iPhone 17 Pro</p>
    </footer>

    <!-- JavaScript Interactivity -->
    <script>
        // The image sources are now reliably linked using the contentFetchId.
        
        const mainImage = document.getElementById('main-product-image');
        const thumbnails = document.querySelectorAll('.thumbnail');
        const form = document.getElementById('add-to-cart-form');
        const feedbackMessage = document.getElementById('feedback-message');

        /**
         * Switches the main product image based on the clicked thumbnail.
         * @param {HTMLElement} clickedThumbnail The thumbnail element that was clicked.
         */
        function switchImage(clickedThumbnail) {
            // Get the image filename directly from the data-src attribute
            const newSrc = clickedThumbnail.getAttribute('data-src'); 
            
            // Update main image source
            mainImage.src = newSrc;
            mainImage.alt = clickedThumbnail.alt.replace('Thumbnail', 'Main Image');

            // Update active state of thumbnails (border glow)
            thumbnails.forEach(thumb => {
                thumb.classList.remove('active', 'border-indigo-600');
                thumb.classList.add('border-transparent');
            });
            clickedThumbnail.classList.add('active', 'border-indigo-600');
            clickedThumbnail.classList.remove('border-transparent');
        }

        // Expose the function globally so it can be called from the HTML onclick attribute
        window.switchImage = switchImage;


        /**
         * Handles the form submission event.
         */
        form.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission/page reload

            const quantity = document.getElementById('quantity').value;
            const color = document.getElementById('color').value;

            // Display feedback message, updated for iPhone
            feedbackMessage.textContent = `Added ${quantity} ${color} iPhone 17 Pro to your basket!`;
            feedbackMessage.classList.remove('hidden');

            // Hide the message after 3 seconds
            setTimeout(() => {
                feedbackMessage.classList.add('hidden');
            }, 3000);

            // Optional: You could log the data to the console here
            console.log(`Product Added: Quantity: ${quantity}, Color: ${color}`);
        });

        // FIX: Ensure the main image loads on page load by re-setting its source
        window.onload = function() {
            const initialSrc = mainImage.src;
            // Temporarily set to placeholder, then back to initialSrc to force a re-fetch
            mainImage.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='; // Tiny invisible placeholder
            setTimeout(() => {
                mainImage.src = initialSrc;
            }, 10);
        };

    </script>
</body>
</html>